<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <script src="/static/jquery-3.2.1.js"></script>
    <script>
        /*设置token为全局变量*/
        var token = ''
        function fun02() {
            var name = $("#name").val()
            var password = $("#password").val()
            $.ajax({
                url: "/login",
                type: "post",
                data: {
                    username: name,
                    password: password
                },
                success: function (data) {
                    token = data
                    alert(token)
                }
            })
        }

        function fun01() {
            $.ajax({
                url: "/admin/msg",
                type: "get",
                data: {},
                headers: {'tokenHead': token},
                success: function (data) {
                    alert(data)
                }
            })
        }
        function fun03() {
            $.ajax({
                url: "/user/msg",
                type: "get",
                data: {},
                headers: {'tokenHead': token},
                success: function (data) {
                    alert(data)
                }
            })
        }
        function fun04() {
            $.ajax({
                url: "/guest/msg",
                type: "get",
                data: {},
                headers: {'tokenHead': token},
                success: function (data) {
                    alert(data)
                }
            })
        }
    </script>
</head>
<body>
<form id="login">
    姓名:<input type="text" name="username" id="name"><br>
    密码:<input type="password" name="password" id="password"><br>
    <input type="button" value="登录" onclick="fun02()">
</form>

<br>
<input type="button" value="管理员页面" onclick="fun01()">
<br>
<input type="button" value="用户页面" onclick="fun03()">
<br>
<input type="button" value="游客页面" onclick="fun04()">

</body>
</html>